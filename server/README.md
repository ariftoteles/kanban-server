# Kanban Server
This app has : 
* RESTful endpoint for Kanban Server
* JSON formatted response

&nbsp;

## Endpoints for User
### POST /register

> Post User Register

_Request Body_
```
{
    "email": "spiderman",
    "username": "spiderman@gmail.com",
    "password": "123456"
}
```

_Response (201 - created)_
```
{
    "id": "1",
    "email": "spiderman@gmail.com",
    "username": "spiderman"
}
```

_Response (400 - Bad request)_
```
{
    "message": [
        "Username must be filled",
        "Username minimum 6 characters",
        "Username must be unique",
        "Email must be filled",
        "Email not valid",
        "Email must be unique",
        "Password must be filled",
        "Password at least 6 characters"
    ]
}
```

### POST /login

> Post User Login

_Request Body_
```
{
    "email": "spiderman@gmail.com",
    "password": "123456"
}
```

_Response (200 - OK)_
```
{
    "access_token": "<generated by system>",
    "username": "spiderman"
}
```

_Response (401 Bad - Unautorized)_
```
{
    "message": [
        "Email not found, please register first",
        "Invalid Email/password"
    ]
}
```

## Endpoints for Kanban
### GET /kanban

> Get all task list

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Body_
```
not needed
```

_Response (200 - OK)_
```
[
    {
        "id": 1,
        "title": "Task 1",
        "category": "backlog",
        "UserId": 1,
        "createdAt": "2021-01-12T07:37:04.069Z",
        "updatedAt": "2021-01-12T07:37:04.069Z",
        "User": {
            "username": "superman"
        }
    },
    {
        "id": 2,
        "title": "Task 2",
        "category": "done",
        "UserId": 2,
        "createdAt": "2021-01-12T07:37:04.069Z",
        "updatedAt": "2021-01-12T08:13:58.634Z",
        "User": {
            "username": "spiderman"
        }
    }
]
```

_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### POST /kanban

> Create new task

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Body_
```
{
  "title": "Task 3",
  "category": "backlog",
}
```

_Response (201 - Created)_
```
{
    "id": 3,
    "title": "Task 3",
    "category": "backlog",
    "UserId": 2,
    "updatedAt": "2021-01-12T08:18:45.955Z",
    "createdAt": "2021-01-12T08:18:45.955Z"
}
```

_Response (400 - Bad Request)_
```
{
    "message": [
        "Title must be filled",
        "Category must be filled"
    ]
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### GET /kanban/:id

> Get task by id

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Params_
```
id = [integer]
```

_Response (200 - OK)_
```
{
    "id": 2,
    "title": "Task 2",
    "category": "done",
    "UserId": 2,
    "createdAt": "2021-01-12T07:37:04.069Z",
    "updatedAt": "2021-01-12T08:13:58.634Z",
    "User": {
        "username": "spiderman"
    }
}
```
_Response (401 - Unauthorized)_
```
{
  "message": "User not authorized"
}
```
_Response (404 - Not Found)_
```
{
  "message": "Data not found"
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### PUT /kanban/:id

> Edit task value

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Params_
```
id = [integer]
```
_Request Body_
```
{
  "title": "Task 3 revisi",
  "category": "backlog",
}
```

_Response (200 - OK)_
```
{
    "id": 2,
    "title": "Task 3 revisi",
    "category": "done",
    "UserId": 2,
    "createdAt": "2021-01-12T07:37:04.069Z",
    "updatedAt": "2021-01-12T09:02:02.019Z"
}
```
_Response (401 - Unauthorized)_
```
{
  "message": "User not authorized"
}
```

_Response (400 - Bad Request)_
```
{
    "message": [
        "Title must be filled",
        "Category must be filled"
    ]
}
```
_Response (404 - Not Found)_
```
{
  "message": "Data not found"
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### PATCH /kanban/:id

> Edit category task

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Params_
```
id = [integer]
```
_Request Body_
```
{
  "category": "done"
}
```

_Response (200 - OK)_
```
{
    "id": 2,
    "title": "Task 3 revisi",
    "category": "done",
    "UserId": 2,
    "createdAt": "2021-01-12T07:37:04.069Z",
    "updatedAt": "2021-01-12T09:03:47.303Z"
}
```

_Response (400 - Bad Request)_
```
{
  "message": "Status must filled by true/false"
}
```
_Response (401 - Unauthorized)_
```
{
  "message": "User not authorized"
}
```
_Response (404 - Not Found)_
```
{
  "message": "Data not found"
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
---
### DELETE /kanban/:id

> Delete task

_Request Headers_
```
{
  "access_token": "<user access token>"
}
```

_Request Params_
```
id = [integer]
```
_Request Body_
```
not needed
```

_Response (200 - OK)_
```
{
    "message": "Delete task success"
}
```
_Response (401 - Unauthorized)_
```
{
  "message": "User not authorized"
}
```
_Response (404 - Not Found)_
```
{
  "message": "Data not found"
}
```
_Response (500 - Bad Request)_
```
{
  "message": "Internal Server Error"
}
```
